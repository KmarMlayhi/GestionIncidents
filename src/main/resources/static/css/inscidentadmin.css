:root{
    --primary:#2563eb; --primary-dark:#1d4ed8;
    --bg:#f8fafc; --card:#fff; --text:#0f172a; --muted:#64748b;
    --border:#e2e8f0; --shadow:0 10px 30px rgba(2,6,23,.08);
    --sidebar:240px; --navbar:64px; --r8:8px; --r12:12px; --r16:16px;
    --t:all .2s ease;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,sans-serif}
body{background:var(--bg);color:var(--text);overflow-x:hidden}
.dashboard-container{display:flex;min-height:100vh}

/* Sidebar */
.sidebar{
    width:var(--sidebar); background:var(--card); height:100vh; position:fixed;
    border-right:1px solid var(--border); display:flex; flex-direction:column; z-index:100; transition:var(--t);
}
.sidebar-header{padding:22px 18px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
.logo{
    width:36px;height:36px;border-radius:var(--r8);
    background:linear-gradient(135deg,var(--primary),var(--primary-dark));
    display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px
}
.app-name{font-weight:900;font-size:18px}
.sidebar-menu{flex:1;padding:16px 0;list-style:none;overflow:auto}
.sidebar-menu li{margin:4px 0}
.sidebar-menu a{
    display:flex;align-items:center;gap:12px;padding:12px 18px;text-decoration:none;
    color:var(--muted);font-weight:700;transition:var(--t);position:relative
}
.sidebar-menu a:hover{background:rgba(37,99,235,.05);color:var(--primary)}
.sidebar-menu a.active{background:rgba(37,99,235,.08);color:var(--primary)}
.sidebar-menu a.active::before{
    content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary)
}
.menu-icon{width:18px;text-align:center}
.menu-text{font-size:14px}
.sidebar-footer{padding:16px;border-top:1px solid var(--border)}
.logout-btn{
    width:100%;border:1px solid var(--border);background:#fff;border-radius:var(--r8);
    padding:12px;cursor:pointer;font-weight:800;color:var(--muted);display:flex;gap:10px;align-items:center;justify-content:center;transition:var(--t)
}
.logout-btn:hover{border-color:var(--primary);color:var(--primary);background:rgba(37,99,235,.05)}

/* Main */
.main-content{flex:1;margin-left:var(--sidebar);transition:var(--t)}
.navbar{
    height:var(--navbar);background:#fff;border-bottom:1px solid var(--border);
    display:flex;align-items:center;justify-content:space-between;padding:0 22px;
    position:sticky;top:0;z-index:99
}
.navbar-left{display:flex;align-items:center;gap:14px}
.menu-toggle{
    width:40px;height:40px;border:none;background:transparent;border-radius:10px;
    display:none;align-items:center;justify-content:center;color:var(--muted);cursor:pointer;transition:var(--t)
}
.menu-toggle:hover{background:rgba(37,99,235,.06);color:var(--primary)}
.page-title{font-size:20px;font-weight:900}
.user-profile{display:flex;align-items:center;gap:12px;padding:6px;border-radius:12px;cursor:pointer;transition:var(--t)}
.user-profile:hover{background:rgba(37,99,235,.06)}
.user-avatar{
    width:36px;height:36px;border-radius:999px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));
    display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;font-size:14px
}
.user-name{font-weight:800;font-size:14px}
.user-role{font-weight:700;font-size:12px;color:var(--muted)}

/* Content */
.content{padding:24px;min-height:calc(100vh - var(--navbar));display:block}

/* Header */
.page-top{margin-bottom:12px}
.page-title-main{font-size:26px;font-weight:950;display:flex;align-items:center;gap:10px;margin-bottom:10px}
.dept-line{display:flex;align-items:center;gap:10px;color:var(--muted);font-weight:700;font-size:14px}
.dept-badge{
    display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;
    background:rgba(37,99,235,.10);color:var(--primary-dark);
    border:1px solid rgba(37,99,235,.22);font-weight:900
}

/* Alert */
.alert-danger{
    background:#fef2f2;border:1px solid #ef4444;color:#b91c1c;border-radius:12px;
    padding:12px 14px;display:flex;gap:10px;align-items:flex-start;margin:12px 0
}

/* KPIs */
.kpi-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:14px;margin:14px 0 16px}
.kpi-card{
    background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px;
    display:flex;align-items:center;gap:12px;box-shadow:0 1px 0 rgba(15,23,42,.04)
}
.kpi-icon{
    width:46px;height:46px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:18px
}
.kpi-blue{background:rgba(37,99,235,.12);color:var(--primary-dark)}
.kpi-amber{background:rgba(245,158,11,.16);color:#92400e}
.kpi-green{background:rgba(16,185,129,.14);color:#047857}
.kpi-gray{background:rgba(148,163,184,.18);color:#334155}
.kpi-value{font-size:28px;font-weight:950;line-height:1}
.kpi-label{font-size:13px;color:var(--muted);font-weight:800;margin-top:4px}

/* Filters */
.filters-card{
    background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px 12px;
    box-shadow:0 1px 0 rgba(15,23,42,.04)
}
.filters-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.filters-title{display:flex;align-items:center;gap:8px;font-weight:950}
.filter-select{
    padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fff;
    font-size:14px;font-weight:800;outline:none
}
.filter-select:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(37,99,235,.12)}
.filters-spacer{flex:1}
.btn-soft{
    border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 12px;
    cursor:pointer;font-weight:900;display:flex;align-items:center;gap:8px;transition:var(--t)
}
.btn-soft:hover{border-color:var(--primary);color:var(--primary);background:rgba(37,99,235,.06)}
.search-mini{
    display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px solid var(--border);
    border-radius:10px;background:var(--bg)
}
.search-mini input{border:none;outline:none;background:transparent;width:220px;font-weight:800}

/* Table card */
.table-card{
    margin-top:16px;background:#fff;border:1px solid var(--border);border-radius:14px;overflow:hidden;box-shadow:0 1px 0 rgba(15,23,42,.04)
}
.table-card-header{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:10px}
.table-card-title{font-weight:950;display:flex;align-items:center;gap:10px}
.table-card-hint{color:var(--muted);font-size:13px;font-weight:900}

.table-wrapper{overflow:auto}
table.table-modern{width:100%;border-collapse:separate;border-spacing:0}
.table-modern th,.table-modern td{padding:14px 12px;border-bottom:1px solid var(--border);vertical-align:middle;font-size:14px;text-align:left}
.table-modern thead th{
    position:sticky;top:0;background:#fff;z-index:1;color:var(--muted);
    text-transform:uppercase;font-size:12px;font-weight:950;letter-spacing:.02em
}
.table-modern tbody tr:hover{background:rgba(37,99,235,.04)}
.mono{font-variant-numeric:tabular-nums;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-weight:800;font-size:13px}
.cell-strong{font-weight:950}
.cell-muted{color:var(--muted);font-weight:800;font-size:13px;line-height:1.35}

.pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:950;border:1px solid var(--border);white-space:nowrap}
.pill-gray{background:#f1f5f9;color:#334155}
.pill-blue{background:rgba(37,99,235,.10);color:var(--primary-dark);border-color:rgba(37,99,235,.25)}
.pill-green{background:rgba(16,185,129,.12);color:#047857;border-color:rgba(16,185,129,.25)}
.pill-amber{background:rgba(245,158,11,.14);color:#92400e;border-color:rgba(245,158,11,.28)}
.pill-red{background:rgba(239,68,68,.12);color:#b91c1c;border-color:rgba(239,68,68,.25)}

.btn-action{
    width:36px;height:36px;border-radius:10px;border:1px solid var(--border);
    background:#fff;color:var(--muted);cursor:pointer;transition:var(--t);
    display:inline-flex;align-items:center;justify-content:center
}
.btn-action:hover{border-color:var(--primary);color:var(--primary);background:rgba(37,99,235,.06)}

/* Empty */
.empty-state{text-align:center;max-width:520px;margin:18px auto 0}
.empty-icon{
    width:80px;height:80px;border-radius:999px;background:rgba(37,99,235,.10);
    display:flex;align-items:center;justify-content:center;margin:0 auto 16px;color:var(--primary);font-size:30px
}
.empty-title{font-size:20px;font-weight:950;margin-bottom:6px}
.empty-description{color:var(--muted);font-weight:800}

/* ===== Modal ===== */
.modal-backdrop{
    position:fixed;inset:0;background:rgba(15,23,42,.55);
    display:flex;align-items:center;justify-content:center;padding:18px;z-index:9999
}
.modal-card{
    width:min(920px,100%);background:#fff;border:1px solid var(--border);
    border-radius:16px;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,.25)
}
.modal-header{
    padding:14px 16px;border-bottom:1px solid var(--border);
    display:flex;align-items:center;justify-content:space-between;gap:12px
}
.modal-title{font-weight:950;display:flex;align-items:center;gap:10px}
.modal-close{
    width:40px;height:40px;border-radius:12px;border:1px solid var(--border);
    background:#fff;cursor:pointer;transition:var(--t);color:var(--muted)
}
.modal-close:hover{border-color:var(--primary);color:var(--primary);background:rgba(37,99,235,.06)}
.modal-body{padding:16px}
.modal-grid{display:grid;grid-template-columns:360px 1fr;gap:16px}
.modal-photo{
    border:1px solid var(--border);border-radius:14px;overflow:hidden;background:var(--bg);
    min-height:260px;display:flex;align-items:center;justify-content:center
}
.modal-photo img{width:100%;height:100%;object-fit:cover}
.no-photo{text-align:center;color:var(--muted);font-weight:900;display:grid;gap:8px}
.no-photo i{font-size:28px}
.info-block{border:1px solid var(--border);border-radius:14px;background:#fff;padding:14px}
.info-label{text-transform:uppercase;font-size:12px;letter-spacing:.02em;color:var(--muted);font-weight:950;margin-bottom:8px}
.info-text{font-size:14px;line-height:1.65;font-weight:800;white-space:pre-wrap}
.modal-footer{padding:14px 16px;border-top:1px solid var(--border);display:flex;justify-content:flex-end}

/* Responsive */
@media (max-width:1024px){
    .sidebar{transform:translateX(-100%)}
    .sidebar.active{transform:translateX(0)}
    .main-content{margin-left:0}
    .menu-toggle{display:flex}
    .kpi-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}
@media (max-width:820px){
    .modal-grid{grid-template-columns:1fr}
    .modal-photo{min-height:220px}
}
@media (max-width:520px){
    .kpi-grid{grid-template-columns:1fr}
    .search-mini input{width:160px}
    .user-info{display:none}
}